
# 🏆 نظام المسابقات - Next.js + TailwindCSS + Supabase

## 📦 التقنيات المستخدمة
- **الواجهة:** Next.js + TailwindCSS
- **البيانات:** Supabase (PostgreSQL)
- **التحقق:** الاسم الثلاثي + رقم الهوية
- **الحماية:** LocalStorage + hasSubmitted flag
- **عرض الفيديو:** YouTube Embed أو مشغل داخلي

---

## 🎯 الوظائف الأساسية

### 1. تسجيل دخول الطالب
- صفحة مخصصة لدخول الطلاب.
- الاسم الثلاثي + رقم الهوية.
- التحقق من التطابق مع قاعدة البيانات.
- لا يُمنع الطالب من الدخول مرة ثانية إلا إذا أرسل جميع الإجابات.
- بعد الإرسال، تظهر رسالة: *"لقد أتممت المشاركة، لا يمكن الدخول مرة أخرى."*

### 2. لوحة تحكم المشرف
- صفحة مخصصة لدخول المشرف.
- صفحة لتسجيل دخول المشرف عبر اسم مستخدم وكلمة مرور.
- إنشاء وتسمية المسابقة.
- رفع فيديو مرجعي.
- **إضافة صورة للمسابقة** (شعار أو خلفية).
- رفع ملف CSV (أسماء + أرقام الهوية).
- إضافة الأسئلة ونقاطها.
- **تحديد عدد خيارات الإجابة لكل سؤال** (مثلاً: 2 أو 4 أو أكثر).
- التحكم في التنقل بين الأسئلة.
- **حذف المسابقة بالكامل** في حال الرغبة بإزالتها.
- متابعة المشاركين مباشرة.

### 3. واجهة الطالب (المشاركة)
- مشاهدة الفيديو في الأعلى.
- عرض الأسئلة واحدة تلو الأخرى.
- اختيار الإجابات.
- منع تعديل الإجابة بعد إرسالها.
- ظهور عدد الأسئلة أو الوقت المتبقي.

### 4. لوحة الفرسان
- ترتيب حسب النقاط.
- تمييز المراكز الثلاثة الأولى.

---

## 🛡️ آلية الحماية

| الطريقة | الوصف |
|---------|--------|
| الاسم + الهوية | التحقق من الطالب بدقة |
| LocalStorage | منع إعادة الدخول من نفس الجهاز |
| hasSubmitted | يمنع إعادة الدخول حتى من جهاز آخر |
| رسالة واضحة | تظهر للطالب عند محاولة الدخول بعد الإرسال |

---

## 🗃️ هيكلة قاعدة البيانات (Supabase)

### جدول: `students`
| الحقل | النوع | الوصف |
|-------|-------|-------|
| id | UUID | معرف فريد |
| full_name | Text | الاسم الثلاثي |
| national_id | Text | رقم الهوية |
| has_submitted | Boolean | يتم تفعيله بعد إرسال الإجابات |
| score | Integer | مجموع النقاط |
| answers | JSON | الإجابات المدخلة |

### جدول: `quizzes`
| الحقل | النوع |
|-------|-------|
| id | UUID |
| title | Text |
| video_url | Text |
| image_url | Text |
| is_active | Boolean |

### جدول: `questions`
| الحقل | النوع |
|-------|-------|
| id | UUID |
| quiz_id | UUID |
| question_text | Text |
| options | JSON |
| correct_option | Text |
| points | Integer |

### جدول: `answers`
| الحقل | النوع |
|-------|-------|
| id | UUID |
| student_id | UUID |
| question_id | UUID |
| selected_option | Text |
| is_correct | Boolean |

---

## 🛠 خطوات البدء بالمشروع

```bash
npx create-next-app@latest quiz-system --typescript --eslint --tailwind --app
cd quiz-system
npm install
npm run dev
```

ثم أكمل إعداد Tailwind وابدأ بناء الصفحات حسب المخطط أعلاه.
